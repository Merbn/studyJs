<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<style type="text/css">
			* {
				padding: 0;
				margin: 0;
			}

			div {
				margin-left: 20px;
				width: 100px;
				height: 100px;
				background-color: red;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<input type="button" name="" id="btn1" value="移动400" />
		<input type="button" name="" id="btn2" value="移动800" />
		<div id="dv"></div>
		<script src="js/common.js"></script>
		<script type="text/javascript">
			my$('btn1').onclick = function() {
				animate(my$('dv'), 400);
			}
			my$('btn2').onclick = function() {
				animate(my$('dv'), 800);

			}

			function animate(element, target) {
				clearInterval(element.timeId);
				element.timeId = setInterval(function() {
					// 获取div的当前位置
					var current = element.offsetLeft; //数字类型 没有px
					// 每次移动多少像素
					var step = (target - current) / 10;
					step = step > 0 ? Math.ceil(step) : Math.floor(step);
					// 每次移动后的距离
					current += step;
					// 判断当前移动后的位置是否到达目标位置
					if (Math.abs(target - current) > Math.abs(step)) {
						element.style.left = current + "px";
					} else {
						clearInterval(element.timeId);
						element.style.left = target + "px";
					}
					// 测试代码
					console.log("目标位置：" + target + "，当前位置：" + current + "，每次移动步数：" + step + "")
				}, 10);
			}
		</script>
	</body>
</html>
